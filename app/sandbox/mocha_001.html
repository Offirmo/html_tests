<html>
<head>
	<meta charset="utf-8">
	<title>Mocha Tests</title>
	<link rel="stylesheet" href="../../node_modules/mocha/mocha.css" />
	<script data-main="shared/components.js" src="../bower_components/requirejs/require.js"></script>
	<!-- <script src="../other_components/offirmo/restlink/server_internals/url_and_action_indexed_container.js"></script> -->

	<!-- for scripts that have a syntax error -->
	<!-- <script data-main="shared/components.js" src="../bower_components/offirmo/utils/spec/http_constants.js"></script> -->
</head>

<body>

	<div id="mocha"></div>

<noscript>Your browser either does not support JavaScript, or has it turned off.</noscript>
<script>
	window.main = function()
	{
		console.log("Loading tests...");

		//$(document).ready(function() {
			requirejs(
			[
				'jquery',
				'mocha',
				'domReady!',

				'offirmo/base/spec/backbone_base_object_spec',
				'offirmo/base/spec/backbone_named_object_spec',
				'offirmo/base/spec/backbone_example_object_spec',

				'offirmo/base/spec/offirmo_inheritance_spec',
				'offirmo/base/spec/offinh_startable_object_spec',
				'offirmo/base/spec/offinh_named_object_spec',

				'offirmo/utils/spec/extended_exceptions_spec',
				'offirmo/utils/spec/fast_timestamp_spec',
				'offirmo/utils/spec/http_constants_spec',
				'offirmo/utils/spec/recent_and_favorites_spec',

				'offirmo/user_society/spec/person_spec',
				'offirmo/user_society/spec/natural_person_spec',
				'offirmo/user_society/spec/moral_person_spec',

				'offirmo/restlink/spec/cache_spec',
				'offirmo/restlink/spec/client_adapter_base_spec',
				'offirmo/restlink/spec/client_adapter_direct_spec',
				'offirmo/restlink/spec/request_spec',
				'offirmo/restlink/spec/response_spec',
				'offirmo/restlink/spec/restlink_client_spec',
				'offirmo/restlink/spec/restlink_server_spec',
				'offirmo/restlink/spec/route_indexed_container_spec',
				'offirmo/restlink/spec/server_adapter_base_spec',
				'offirmo/restlink/spec/server_adapter_direct_spec',
				'offirmo/restlink/spec/internals_core_spec',
				'offirmo/restlink/spec/internals_transaction_spec',
				'offirmo/restlink/spec/internals_request_handler_base_spec',
				'offirmo/restlink/spec/internals_request_handler_actual_spec',
				'offirmo/restlink/spec/internals_session_spec',
				'offirmo/restlink/spec/internals_rest_target_indexed_container_spec',

				'offirmo/app/spec/account_spec',
				'offirmo/app/spec/app_spec',
				'offirmo/app/spec/app_list_spec',
				'offirmo/app/spec/identity_spec',
				'offirmo/app/spec/identity_list_spec',
				'offirmo/app/spec/session_spec'
			],
			function($) {

				//document.body.appendChild(document.createTextNode('Hello from mainFunction ! (jQuery version:' + $.fn.jquery + ')'));

				jQuery = $;
				mocha.checkLeaks();
				mocha.globals(['jQuery']);

				console.log("Starting tests...");
				mocha.run();
			});
		//});

	};
</script>

</body>
</html>
